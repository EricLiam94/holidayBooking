<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>Transaction Searching</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css" />
        <style type="text/css">
            @import "../CSS/navigation.css";
        </style>
    </h:head>
    <body>
        <header >
            <ul>
                <li><a href="#user">Hello #{login.id}</a></li>
                <li><a class="active" href="./Transaction.xhtml">Searching Transaction</a></li>
                <li><a href="#about">About</a></li>
            </ul>
            <br></br>
            <br></br>
            <div class="w3-container">
                <h1 class="w3-center">Transaction Searching</h1>
            </div></header>
        <article >
            <br></br>
              <br></br>
            <h:form >
                <h:commandButton  class="w3-btn w3-green w3-round-xxlarge" value="Clear" id="clearing" action="#{holidaymb.clearData()}" style="float:right" > 
                </h:commandButton>
                <h:commandButton  class="w3-btn w3-green w3-round-xxlarge" value="Book" id="book" action="NewTransaction.xhtml" style="float:right" > 
                </h:commandButton>
                <div class="w3-container w3-center">Transaction Name:  <h:inputText  id="name" label="name" value="#{holidaymb.name}"  style="width: 230px">
                    </h:inputText>
                    Type : <h:selectOneMenu value="#{holidaymb.type}" style="width:100px">  
                        <f:selectItem itemLabel="" itemValue=""/>
                        <f:selectItems  value="#{holidaymb.types}"  var="t" itemValue="#{t}" itemLabel="#{t}" />         
                    </h:selectOneMenu> </div>
                <br></br>
                <br></br>
                <div class="w3-container w3-center"> Transaction Number: <h:inputText id="id" label="id" value="#{holidaymb.id}" style="width: 230px">
                        <f:validateRegex pattern="[\d]{0,}"  /> 
                    </h:inputText></div>
                <br></br>
                <br></br>
                <div class="w3-container w3-center">

                    <h:commandButton  class="w3-btn w3-green w3-round-xxlarge" id="searching" action="#{holidaymb.searching()}" value="Searching" >
                    </h:commandButton> </div>

                <h:panelGroup>
                    <c:if test="#{holidaymb.lists !=null }">
                        <h2 >Result of Name: #{holidaymb.name} Type: #{holidaymb.type} ID: #{holidaymb.id}</h2>
                        <marquee width="300px" loop="True">Click to View Details</marquee>
                        <h:form>
                            <table class="w3-table-all w3-hoverable w3-small">
                                <thead>
                                    <tr class="w3-green"><th>ID</th><th>Name</th></tr></thead><tbody>
                                    <ul id="holidaylist" >
                                        <ui:repeat value="#{holidaymb.lists}" var="l" varStatus="status" >
                                            <tr> <td><h:link outcome="SearchingResult.xhtml" style="text-decoration: none"> #{l.id}
                                                    <f:param name="ind" value="#{status.index + 1}"></f:param>
                                                    </h:link>  </td><td> <h:link outcome="SearchingResult.xhtml" style="text-decoration: none">  #{l.name}                    
                                                        <f:param name="ind" value="#{status.index + 1}"></f:param>
                                                    </h:link> </td></tr>
                                        </ui:repeat>
                                    </ul>
                                </tbody> 
                            </table></h:form>
                    </c:if>
                </h:panelGroup>

            </h:form>
        </article>
    </body>
</html>
